{"version":3,"file":"js/311.816e0d80.js","mappings":"8JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,SAAU,IAAO,CAACL,EAAIM,GAAG,qBAAqBJ,EAAG,YAAY,CAACE,YAAY,iBAAiBC,MAAM,CAAC,MAAQ,qBAAqB,wBAAuB,EAAK,kBAAiB,EAAK,QAAUL,EAAIO,YAAY,wBAAuB,EAAM,MAAQP,EAAIQ,SAAW,MAAQ,OAAOC,GAAG,CAAC,iBAAiB,SAASC,GAAQV,EAAIO,YAAYG,CAAM,IAAI,CAACR,EAAG,MAAM,CAACA,EAAG,UAAU,CAACS,IAAI,WAAWP,YAAY,gBAAgBC,MAAM,CAAC,cAAc,KAAK,CAACH,EAAG,eAAe,CAACE,YAAY,aAAa,CAACF,EAAG,WAAW,CAACU,MAAM,CAACC,MAAOb,EAAIc,OAAOC,aAAcC,SAAS,SAAUC,GAAMjB,EAAIkB,KAAKlB,EAAIc,OAAQ,eAAgC,kBAARG,EAAkBA,EAAIE,OAAQF,EAAK,EAAEG,WAAW,yBAAyBlB,EAAG,YAAY,CAACmB,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,mBAAmBV,MAAOb,EAAIc,OAAOC,aAAcK,WAAW,sBAAsBI,IAAI,QAAQ,CAACF,KAAK,YAAYC,QAAQ,sBAAsBV,MAAOb,EAAIyB,OAAQL,WAAW,SAASI,IAAI,WAAW,CAACF,KAAK,YAAYC,QAAQ,oBAAoBV,MAAOb,EAAI0B,QAASN,WAAW,UAAUI,IAAI,UAAUnB,MAAM,CAAC,KAAO,YAAY,CAACL,EAAIM,GAAG,SAAS,IAAI,IAAI,MAAM,EACxtC,EACIqB,EAAkB,G,6BCiCtB,GACAL,KAAA,aACAM,IAAAA,GACA,OACAC,MAAA,EACAtB,aAAA,EACAQ,aAAA,KAAAe,OAAAC,MAAAhB,aAEA,EACAiB,SAAA,CACAlB,MAAAA,GACA,YAAAmB,OAAAC,MAAApB,MACA,EACAN,QAAAA,GACA,YAAAyB,OAAAC,MAAA1B,QACA,GAEA2B,QAAA,CACAC,KAAAA,CAAAC,GACA,WAAAC,SAAAC,IACAC,YAAA,KACAD,GAAA,GACA,IAAAF,EAAA,GAEA,EACAZ,MAAAA,CAAAgB,GACA,KAAAC,SAAA,CACAC,QAAA,QAAAF,EAAAG,OACAC,KAAA,YAEA,KAAAtC,aAAA,EACA,MAAAuC,EAAAC,EAAAA,EAAAC,SAAA,SACAF,GACA,KAAAG,QAAAC,KAAA,SAAAJ,SAEA,EACApB,OAAAA,GACA,KAAAgB,SAAA,CACAC,QAAA,OACAE,KAAA,SAEA,EACA,oBAAAM,GACA,MAAApC,EAAA,KAAAA,aACA,IAAAA,EAEA,YADA,KAAAkC,QAAAC,KAAA,KAGA,MAAAE,EAAAC,SAAAC,EAAAA,EAAAC,UAAA,CACAxC,iBAEA,GAAAqC,EAGA,OAFA,KAAAnB,OAAAuB,OAAA,oBACA,KAAAP,QAAAC,KAAA,KAGA,aAAAO,GAAAJ,EACA,KAAApB,OAAAuB,OAAA,YAAAC,GACA,KAAAlD,aAAA,EACA,KAAAmC,SAAA,CACAC,QAAA,kBACAE,KAAA,WAEA,GAEA,aAAAa,SACA,KAAAtB,MAAA,GACA,KAAAe,gBACA,GCvGyP,I,UCQrPQ,GAAY,OACd,EACA5D,EACA4B,GACA,EACA,KACA,WACA,MAIF,EAAegC,EAAiB,O","sources":["webpack://sugar-day/./src/views/ResultView.vue","webpack://sugar-day/src/views/ResultView.vue","webpack://sugar-day/./src/views/ResultView.vue?3b85","webpack://sugar-day/./src/views/ResultView.vue?ed6c"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"result-list center-center\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":true}},[_vm._v(\"正在验证支付结果，请勿关闭页面\")]),_c('el-dialog',{staticClass:\"buy-vip-dialog\",attrs:{\"title\":\"复制保存好订单号，丢失将无法找回！！\",\"modal-append-to-body\":true,\"append-to-body\":true,\"visible\":_vm.copyVisible,\"close-on-click-modal\":false,\"width\":_vm.isMobile ? '98%' : '40%'},on:{\"update:visible\":function($event){_vm.copyVisible=$event}}},[_c('div',[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"status-icon\":\"\"}},[_c('el-form-item',{staticClass:\"check-vip\"},[_c('el-input',{model:{value:(_vm.orders.out_trade_no),callback:function ($$v) {_vm.$set(_vm.orders, \"out_trade_no\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"orders.out_trade_no\"}}),_c('el-button',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(_vm.orders.out_trade_no),expression:\"orders.out_trade_no\",arg:\"copy\"},{name:\"clipboard\",rawName:\"v-clipboard:success\",value:(_vm.onCopy),expression:\"onCopy\",arg:\"success\"},{name:\"clipboard\",rawName:\"v-clipboard:error\",value:(_vm.onError),expression:\"onError\",arg:\"error\"}],attrs:{\"type\":\"primary\"}},[_vm._v(\"复制\")])],1)],1)],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"result-list center-center\">\n    <el-button type=\"primary\" :loading=\"true\"\n      >正在验证支付结果，请勿关闭页面</el-button\n    >\n    <el-dialog\n      title=\"复制保存好订单号，丢失将无法找回！！\"\n      :modal-append-to-body=\"true\"\n      :append-to-body=\"true\"\n      :visible.sync=\"copyVisible\"\n      :close-on-click-modal=\"false\"\n      :width=\"isMobile ? '98%' : '40%'\"\n      class=\"buy-vip-dialog\"\n    >\n      <div>\n        <el-form status-icon ref=\"ruleForm\" class=\"demo-ruleForm\">\n          <el-form-item class=\"check-vip\">\n            <el-input v-model.trim=\"orders.out_trade_no\"></el-input>\n            <el-button\n              type=\"primary\"\n              v-clipboard:copy=\"orders.out_trade_no\"\n              v-clipboard:success=\"onCopy\"\n              v-clipboard:error=\"onError\"\n              >复制</el-button\n            >\n          </el-form-item>\n        </el-form>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport apiUser from \"@/api/user\";\nimport auth from \"@/plugins/auth\";\nexport default {\n  name: \"ResultView\",\n  data() {\n    return {\n      show: false,\n      copyVisible: false,\n      out_trade_no: this.$route.query.out_trade_no,\n    };\n  },\n  computed: {\n    orders() {\n      return this.$store.state.orders;\n    },\n    isMobile() {\n      return this.$store.state.isMobile;\n    },\n  },\n  methods: {\n    sleep(t) {\n      return new Promise((resolve) => {\n        setTimeout(() => {\n          resolve();\n        }, 1000 * t);\n      });\n    },\n    onCopy(e) {\n      this.$message({\n        message: `复制成功：${e.text}`,\n        type: \"success\",\n      });\n      this.copyVisible = false;\n      const buyId = auth.getToken(\"buyId\");\n      if (buyId) {\n        this.$router.push(`/javs/${buyId}.html`);\n      }\n    },\n    onError() {\n      this.$message({\n        message: `复制失败`,\n        type: \"error\",\n      });\n    },\n    async queryApplyInfo() {\n      const out_trade_no = this.out_trade_no;\n      if (!out_trade_no) {\n        this.$router.push(`/`);\n        return;\n      }\n      const [err, res] = await apiUser.vaidOrder({\n        out_trade_no,\n      });\n      if (err) {\n        this.$store.commit(\"clearOrders\");\n        this.$router.push(`/`);\n        return;\n      }\n      const { result } = res;\n      this.$store.commit(\"setOrders\", result);\n      this.copyVisible = true;\n      this.$message({\n        message: `您已开通VIP，可观看所有视频`,\n        type: \"success\",\n      });\n    },\n  },\n  async created() {\n    await this.sleep(4);\n    this.queryApplyInfo();\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n.page-list {\n  ::v-deep {\n    .el-pager > li:last-child {\n      display: none;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ResultView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ResultView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ResultView.vue?vue&type=template&id=0305f06a&scoped=true\"\nimport script from \"./ResultView.vue?vue&type=script&lang=js\"\nexport * from \"./ResultView.vue?vue&type=script&lang=js\"\nimport style0 from \"./ResultView.vue?vue&type=style&index=0&id=0305f06a&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0305f06a\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","_v","copyVisible","isMobile","on","$event","ref","model","value","orders","out_trade_no","callback","$$v","$set","trim","expression","directives","name","rawName","arg","onCopy","onError","staticRenderFns","data","show","$route","query","computed","$store","state","methods","sleep","t","Promise","resolve","setTimeout","e","$message","message","text","type","buyId","auth","getToken","$router","push","queryApplyInfo","err","res","apiUser","vaidOrder","commit","result","created","component"],"sourceRoot":""}