"use strict";(self["webpackChunksugar_day"]=self["webpackChunksugar_day"]||[]).push([[168],{7168:function(e,s,t){t.r(s),t.d(s,{default:function(){return c}});var r=function(){var e=this,s=e._self._c;return s("div",{staticClass:"result-list center-center"},[s("el-button",{attrs:{type:"primary",loading:!0}},[e._v("正在验证支付结果，请勿关闭页面")]),s("el-dialog",{staticClass:"buy-vip-dialog",attrs:{title:"复制保存好设备id，丢失将无法找回！！","modal-append-to-body":!0,"append-to-body":!0,visible:e.copyVisible,"close-on-click-modal":!1,width:e.isMobile?"98%":"40%"},on:{"update:visible":function(s){e.copyVisible=s}}},[s("div",[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"status-icon":""}},[s("el-form-item",{staticClass:"check-vip"},[s("el-input",{model:{value:e.site.ip,callback:function(s){e.$set(e.site,"ip","string"===typeof s?s.trim():s)},expression:"site.ip"}}),s("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.site.ip,expression:"site.ip",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],attrs:{type:"primary"}},[e._v("复制")])],1)],1)],1)])],1)},i=[],o=(t(560),t(3181)),a=t(1797),n={name:"ResultView",data(){return{show:!1,copyVisible:!1,out_trade_no:this.$route.query.out_trade_no}},computed:{site(){return this.$store.state.site},orders(){return this.$store.state.orders},isMobile(){return this.$store.state.isMobile}},methods:{sleep(e){return new Promise((s=>{setTimeout((()=>{s()}),1e3*e)}))},onCopy(e){this.$message({message:`复制成功：${e.text}`,type:"success"}),this.copyVisible=!1;const s=a.Z.getToken("buyId");s&&this.$router.push(`/javs/${s}.html`)},onError(){this.$message({message:"复制失败",type:"error"})},async queryApplyInfo(){const e=this.out_trade_no;if(!e)return void this.$router.push("/");const[s,t]=await o.Z.vaidOrder({out_trade_no:e});if(s)return void this.$router.push("/");const{result:r}=t;this.$store.commit("setOrders",r),this.copyVisible=!0,this.$message({message:"您已开通VIP，可观看所有视频",type:"success"}),this.$router.push("/")}},async created(){await this.sleep(4),this.queryApplyInfo()}},u=n,l=t(1001),p=(0,l.Z)(u,r,i,!1,null,"d7a19622",null),c=p.exports}}]);
//# sourceMappingURL=168.671fabe9.js.map